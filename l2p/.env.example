# Learn2Play Environment Configuration Template
# Copy this file to .env and update with your values

# ====================================================
# DATABASE CONFIGURATION (uses centralized PostgreSQL)
# ====================================================
# For local development, use localhost:5432
# For Docker, use shared-postgres:5432
DATABASE_URL=postgresql://l2p_user:l2p_password@shared-postgres:5432/l2p_db
DB_HOST=shared-postgres
DB_PORT=5432
DB_NAME=l2p_db
DB_USER=l2p_user
DB_PASSWORD=l2p_password
L2P_DB_USER=l2p_user
L2P_DB_PASSWORD=l2p_password

# ====================================================
# JWT AUTHENTICATION
# ====================================================
# IMPORTANT: Generate secure random strings (minimum 32 characters)
# You can use: openssl rand -hex 32
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters
JWT_REFRESH_SECRET=your-super-secret-refresh-key-minimum-32-characters

# ====================================================
# EMAIL CONFIGURATION (Optional - for password reset)
# ====================================================
# Gmail configuration (recommended)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-gmail-app-password
SMTP_FROM=your-email@gmail.com

# Alternative SMTP configurations:
# Outlook/Hotmail:
# SMTP_HOST=smtp-mail.outlook.com
# SMTP_PORT=587

# Yahoo:
# SMTP_HOST=smtp.mail.yahoo.com
# SMTP_PORT=587

# Custom SMTP:
# SMTP_HOST=your-smtp-server.com
# SMTP_PORT=587

# ====================================================
# GOOGLE AI CONFIGURATION (Optional - for question generation)
# ====================================================
# Get your API key from: https://makersuite.google.com/app/apikey
GOOGLE_AI_API_KEY=your-gemini-api-key

# ====================================================
# APPLICATION CONFIGURATION
# ====================================================
NODE_ENV=development
PORT=3001
FRONTEND_PORT=5174

# CORS Configuration
FRONTEND_URL=http://localhost:3000
CORS_ORIGINS=http://localhost:3000,http://localhost:3002,https://*.korczewski.de

# Cookie Domain (for centralized auth across subdomains)
# Set to .korczewski.de in production to share auth between subdomains
COOKIE_DOMAIN=localhost

# ====================================================
# DEVELOPMENT & TESTING
# ====================================================
# Test environment settings
ALLOW_PROD_DB_IN_TESTS=false
TEST_ENVIRONMENT=local
TEST_TYPE=unit

# Logging level (error, warn, info, debug)
LOG_LEVEL=info

# ====================================================
# PRODUCTION OVERRIDES
# ====================================================
# When deploying to production, override these values:
# NODE_ENV=production
# DATABASE_URL=postgresql://user:pass@your-production-db:5432/learn2play
# FRONTEND_URL=https://your-domain.com
# CORS_ORIGINS=https://your-domain.com
# LOG_LEVEL=warn

# ====================================================
# OPTIONAL FEATURES
# ====================================================
# File upload limits (in MB)
MAX_FILE_SIZE=10

# Session configuration
SESSION_TIMEOUT=86400000

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ====================================================
# SECURITY SETTINGS
# ====================================================
# Enable HTTPS redirect in production
FORCE_HTTPS=false

# Trusted proxy IPs (for production load balancers)
TRUSTED_PROXIES=127.0.0.1

# Cookie settings
COOKIE_SECURE=false
COOKIE_SAME_SITE=lax