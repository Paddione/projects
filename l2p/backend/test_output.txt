  console.log
    Integration test setup: Using DATABASE_URL: postgresql://l2p_user:06752fc9637d5fe896cd88b858d2cf2eff112de5cf4769e69927009f5d45d581@127.0.0.1:5432/l2p_db

      at jest.setup.integration.mjs:41:9

  console.log
    AuthService constructor - JWT_SECRET from env: test_jwt_secret_for_testing_only_not_secure_but_long_enough_for_jwt

      at new AuthService (src/services/AuthService.ts:70:15)

  console.log
    AuthService constructor - JWT_SECRET set to: test_jwt_secret_for_testing_only_not_secure_but_long_enough_for_jwt

      at new AuthService (src/services/AuthService.ts:71:15)

  console.log
    AuthService constructor - JWT_REFRESH_SECRET from env: test_refresh_secret_for_testing_only_not_secure_but_long_enough

      at new AuthService (src/services/AuthService.ts:72:15)

  console.log
    AuthService constructor - JWT_REFRESH_SECRET set to: test_refresh_secret_for_testing_only_not_secure_but_long_enough

      at new AuthService (src/services/AuthService.ts:73:15)

  console.log
    AuthService constructor - JWT_SECRET from env: test_jwt_secret_for_testing_only_not_secure_but_long_enough_for_jwt

      at new AuthService (src/services/AuthService.ts:70:15)

  console.log
    AuthService constructor - JWT_SECRET set to: test_jwt_secret_for_testing_only_not_secure_but_long_enough_for_jwt

      at new AuthService (src/services/AuthService.ts:71:15)

  console.log
    AuthService constructor - JWT_REFRESH_SECRET from env: test_refresh_secret_for_testing_only_not_secure_but_long_enough

      at new AuthService (src/services/AuthService.ts:72:15)

  console.log
    AuthService constructor - JWT_REFRESH_SECRET set to: test_refresh_secret_for_testing_only_not_secure_but_long_enough

      at new AuthService (src/services/AuthService.ts:73:15)

  console.log
    AuthService constructor - JWT_SECRET from env: test_jwt_secret_for_testing_only_not_secure_but_long_enough_for_jwt

      at new AuthService (src/services/AuthService.ts:70:15)

  console.log
    AuthService constructor - JWT_SECRET set to: test_jwt_secret_for_testing_only_not_secure_but_long_enough_for_jwt

      at new AuthService (src/services/AuthService.ts:71:15)

  console.log
    AuthService constructor - JWT_REFRESH_SECRET from env: test_refresh_secret_for_testing_only_not_secure_but_long_enough

      at new AuthService (src/services/AuthService.ts:72:15)

  console.log
    AuthService constructor - JWT_REFRESH_SECRET set to: test_refresh_secret_for_testing_only_not_secure_but_long_enough

      at new AuthService (src/services/AuthService.ts:73:15)

  console.log
    AuthService constructor - JWT_SECRET from env: test_jwt_secret_for_testing_only_not_secure_but_long_enough_for_jwt

      at new AuthService (src/services/AuthService.ts:70:15)

  console.log
    AuthService constructor - JWT_SECRET set to: test_jwt_secret_for_testing_only_not_secure_but_long_enough_for_jwt

      at new AuthService (src/services/AuthService.ts:71:15)

  console.log
    AuthService constructor - JWT_REFRESH_SECRET from env: test_refresh_secret_for_testing_only_not_secure_but_long_enough

      at new AuthService (src/services/AuthService.ts:72:15)

  console.log
    AuthService constructor - JWT_REFRESH_SECRET set to: test_refresh_secret_for_testing_only_not_secure_but_long_enough

      at new AuthService (src/services/AuthService.ts:73:15)

  console.log
    AuthService constructor - JWT_SECRET from env: test_jwt_secret_for_testing_only_not_secure_but_long_enough_for_jwt

      at new AuthService (src/services/AuthService.ts:70:15)

  console.log
    AuthService constructor - JWT_SECRET set to: test_jwt_secret_for_testing_only_not_secure_but_long_enough_for_jwt

      at new AuthService (src/services/AuthService.ts:71:15)

  console.log
    AuthService constructor - JWT_REFRESH_SECRET from env: test_refresh_secret_for_testing_only_not_secure_but_long_enough

      at new AuthService (src/services/AuthService.ts:72:15)

  console.log
    AuthService constructor - JWT_REFRESH_SECRET set to: test_refresh_secret_for_testing_only_not_secure_but_long_enough

      at new AuthService (src/services/AuthService.ts:73:15)

  console.log
    ðŸŸ¢ PERKS ROUTE MODULE LOADED!

      at Object.<anonymous> (src/routes/perks.ts:7:9)

(node:50903) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.log
    Database connection established

      at BoundPool.<anonymous> (src/services/DatabaseService.ts:153:15)

  console.log
    Starting database migrations...

      at MigrationService.runMigrations (src/services/MigrationService.ts:138:13)

  console.warn
    Skipping duplicate migration version 20240101_000001 from file: 20240101_000001_add_user_preferences.sql

       98 |         // Skip duplicates of the same version to prevent schema_migrations constraint errors
       99 |         if (seenVersions.has(version)) {
    > 100 |           console.warn(`Skipping duplicate migration version ${version} from file: ${file}`);
          |                   ^
      101 |           continue;
      102 |         }
      103 |         

      at MigrationService.loadMigrationFiles (src/services/MigrationService.ts:100:19)
      at MigrationService.runMigrations (src/services/MigrationService.ts:144:40)
      at Object.<anonymous> (src/__tests__/integration/setupMigrations.ts:11:5)

  console.log
    No pending migrations found

      at MigrationService.runMigrations (src/services/MigrationService.ts:169:17)

  console.warn
    Skipping duplicate migration version 20240101_000001 from file: 20240101_000001_add_user_preferences.sql

       98 |         // Skip duplicates of the same version to prevent schema_migrations constraint errors
       99 |         if (seenVersions.has(version)) {
    > 100 |           console.warn(`Skipping duplicate migration version ${version} from file: ${file}`);
          |                   ^
      101 |           continue;
      102 |         }
      103 |         

      at MigrationService.loadMigrationFiles (src/services/MigrationService.ts:100:19)
      at MigrationService.validateMigrations (src/services/MigrationService.ts:292:40)
      at Object.<anonymous> (src/__tests__/integration/setupMigrations.ts:12:5)

  console.warn
    Applied migration 20240101_000002_enhance_question_set_schema not found in migration files - this may be from initial setup

      296 |         
      297 |         if (!available) {
    > 298 |           console.warn(`Applied migration ${applied['version']} not found in migration files - this may be from initial setup`);
          |                   ^
      299 |           continue; // Don't fail validation for missing migration files
      300 |         }
      301 |         

      at MigrationService.validateMigrations (src/services/MigrationService.ts:298:19)
      at Object.<anonymous> (src/__tests__/integration/setupMigrations.ts:12:5)

  console.warn
    Applied migration 20240101_000003_add_experience_tracking not found in migration files - this may be from initial setup

      296 |         
      297 |         if (!available) {
    > 298 |           console.warn(`Applied migration ${applied['version']} not found in migration files - this may be from initial setup`);
          |                   ^
      299 |           continue; // Don't fail validation for missing migration files
      300 |         }
      301 |         

      at MigrationService.validateMigrations (src/services/MigrationService.ts:298:19)
      at Object.<anonymous> (src/__tests__/integration/setupMigrations.ts:12:5)

  console.log
    Migration validation completed successfully

      at MigrationService.validateMigrations (src/services/MigrationService.ts:309:15)

  console.log
    AuthService constructor - JWT_SECRET from env: test_jwt_secret_for_testing_only_not_secure_but_long_enough_for_jwt

      at new AuthService (src/services/AuthService.ts:70:15)

  console.log
    AuthService constructor - JWT_SECRET set to: test_jwt_secret_for_testing_only_not_secure_but_long_enough_for_jwt

      at new AuthService (src/services/AuthService.ts:71:15)

  console.log
    AuthService constructor - JWT_REFRESH_SECRET from env: test_refresh_secret_for_testing_only_not_secure_but_long_enough

      at new AuthService (src/services/AuthService.ts:72:15)

  console.log
    AuthService constructor - JWT_REFRESH_SECRET set to: test_refresh_secret_for_testing_only_not_secure_but_long_enough

      at new AuthService (src/services/AuthService.ts:73:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '01612a2f-c3ec-48ef-b91a-6e1f6240ccbe',
      timestamp: '2026-01-02T18:00:15.675Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/register',
      statusCode: 400,
      responseTime: '12ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '01612a2f-c3ec-48ef-b91a-6e1f6240ccbe',
      timestamp: '2026-01-02T18:00:15.687Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '51468c77-6a08-4ca6-97b3-d62cc4caaaba',
      timestamp: '2026-01-02T18:00:15.727Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/register',
      statusCode: 400,
      responseTime: '3ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '51468c77-6a08-4ca6-97b3-d62cc4caaaba',
      timestamp: '2026-01-02T18:00:15.730Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '3fa818b5-c951-4c10-a225-e45c419bce18',
      timestamp: '2026-01-02T18:00:15.762Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/register',
      statusCode: 400,
      responseTime: '2ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '3fa818b5-c951-4c10-a225-e45c419bce18',
      timestamp: '2026-01-02T18:00:15.764Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '7e4bb033-5913-4d7f-b15c-31e5ad3f1071',
      timestamp: '2026-01-02T18:00:15.789Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to test@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '27ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '7e4bb033-5913-4d7f-b15c-31e5ad3f1071',
      timestamp: '2026-01-02T18:00:15.816Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'ce7ec103-064f-42f7-b709-c33ae7c08dd2',
      timestamp: '2026-01-02T18:00:15.827Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/register',
      statusCode: 409,
      responseTime: '10ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'ce7ec103-064f-42f7-b709-c33ae7c08dd2',
      timestamp: '2026-01-02T18:00:15.837Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '6b80a7f5-7bc6-4756-82be-251d8b898eb9',
      timestamp: '2026-01-02T18:00:15.865Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/register',
      statusCode: 400,
      responseTime: '3ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '6b80a7f5-7bc6-4756-82be-251d8b898eb9',
      timestamp: '2026-01-02T18:00:15.869Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '26921ef2-c07c-473c-b642-4f3350b7cc82',
      timestamp: '2026-01-02T18:00:15.888Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/register',
      statusCode: 400,
      responseTime: '2ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '26921ef2-c07c-473c-b642-4f3350b7cc82',
      timestamp: '2026-01-02T18:00:15.890Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '5b3f52a3-2469-4414-bb9c-3cc2653b88d5',
      timestamp: '2026-01-02T18:00:15.908Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/login',
      statusCode: 401,
      responseTime: '7ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '5b3f52a3-2469-4414-bb9c-3cc2653b88d5',
      timestamp: '2026-01-02T18:00:15.915Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '804fb192-d9ad-4fb6-be94-d68384a8b313',
      timestamp: '2026-01-02T18:00:15.933Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/register',
      statusCode: 400,
      responseTime: '2ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '804fb192-d9ad-4fb6-be94-d68384a8b313',
      timestamp: '2026-01-02T18:00:15.935Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '449d5f74-f430-4825-b7bd-265ac0535855',
      timestamp: '2026-01-02T18:00:15.950Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/login',
      statusCode: 401,
      responseTime: '6ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '449d5f74-f430-4825-b7bd-265ac0535855',
      timestamp: '2026-01-02T18:00:15.956Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'ab22c437-810a-4e0d-988c-34ea2582b716',
      timestamp: '2026-01-02T18:00:15.973Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/register',
      statusCode: 400,
      responseTime: '2ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'ab22c437-810a-4e0d-988c-34ea2582b716',
      timestamp: '2026-01-02T18:00:15.975Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '7996d9a7-bb39-4791-9155-26e871f6ab03',
      timestamp: '2026-01-02T18:00:15.990Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/login',
      statusCode: 401,
      responseTime: '7ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '7996d9a7-bb39-4791-9155-26e871f6ab03',
      timestamp: '2026-01-02T18:00:15.997Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '24caff24-d412-41c6-b116-f85b3fc85497',
      timestamp: '2026-01-02T18:00:16.012Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/register',
      statusCode: 400,
      responseTime: '2ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '24caff24-d412-41c6-b116-f85b3fc85497',
      timestamp: '2026-01-02T18:00:16.014Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '9247f9bc-ef7e-4c13-8b49-caa9574c30cd',
      timestamp: '2026-01-02T18:00:16.029Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/login',
      statusCode: 401,
      responseTime: '6ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '9247f9bc-ef7e-4c13-8b49-caa9574c30cd',
      timestamp: '2026-01-02T18:00:16.036Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '8236f920-8fdb-47df-b884-821e50c44df4',
      timestamp: '2026-01-02T18:00:16.051Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to test@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '14ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '8236f920-8fdb-47df-b884-821e50c44df4',
      timestamp: '2026-01-02T18:00:16.065Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/verify-email',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'cc994bb7-4fc7-47c6-a51d-07f09b9b0d62',
      timestamp: '2026-01-02T18:00:16.077Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.error
    Failed to send welcome email: TypeError: this.emailService.sendWelcomeEmail is not a function
        at AuthService.verifyEmail (/home/patrick/projects/l2p/backend/src/services/AuthService.ts:536:31)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at /home/patrick/projects/l2p/backend/src/routes/auth.ts:640:18

      537 |       console.log(`Welcome email sent to ${user.email}`);
      538 |     } catch (error) {
    > 539 |       console.error('Failed to send welcome email:', error);
          |               ^
      540 |       // Don't fail verification if welcome email fails
      541 |     }
      542 |

      at AuthService.verifyEmail (src/services/AuthService.ts:539:15)
      at src/routes/auth.ts:640:18

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/verify-email',
      statusCode: 200,
      responseTime: '20ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'cc994bb7-4fc7-47c6-a51d-07f09b9b0d62',
      timestamp: '2026-01-02T18:00:16.098Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '50dc549d-aab8-4da5-94ce-d388bad754c2',
      timestamp: '2026-01-02T18:00:16.118Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to test@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '13ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '50dc549d-aab8-4da5-94ce-d388bad754c2',
      timestamp: '2026-01-02T18:00:16.131Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/verify-email',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '62bc275e-5958-4539-a181-c8c2d43553ca',
      timestamp: '2026-01-02T18:00:16.142Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/verify-email',
      statusCode: 400,
      responseTime: '8ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '62bc275e-5958-4539-a181-c8c2d43553ca',
      timestamp: '2026-01-02T18:00:16.150Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'a2a66ae6-206a-49ea-b545-0ad3e2e04565',
      timestamp: '2026-01-02T18:00:16.170Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to test@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '15ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'a2a66ae6-206a-49ea-b545-0ad3e2e04565',
      timestamp: '2026-01-02T18:00:16.185Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/verify-email',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '23a9a164-3b04-4004-88d0-c18df778f482',
      timestamp: '2026-01-02T18:00:16.197Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/verify-email',
      statusCode: 400,
      responseTime: '2ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '23a9a164-3b04-4004-88d0-c18df778f482',
      timestamp: '2026-01-02T18:00:16.199Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '22917dc2-5583-4bb1-ac79-d80a7fc60012',
      timestamp: '2026-01-02T18:00:16.224Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to test@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '15ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '22917dc2-5583-4bb1-ac79-d80a7fc60012',
      timestamp: '2026-01-02T18:00:16.239Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/resend-verification',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '5b6d4147-a4ec-4fb7-a233-3849712fa8c4',
      timestamp: '2026-01-02T18:00:16.254Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email resent to test@example.com

      at AuthService.resendEmailVerification (src/services/AuthService.ts:573:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/resend-verification',
      statusCode: 200,
      responseTime: '12ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '5b6d4147-a4ec-4fb7-a233-3849712fa8c4',
      timestamp: '2026-01-02T18:00:16.266Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '0e3257bc-b5be-484d-8441-13828106422e',
      timestamp: '2026-01-02T18:00:16.294Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to test@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '14ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '0e3257bc-b5be-484d-8441-13828106422e',
      timestamp: '2026-01-02T18:00:16.308Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/resend-verification',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '7b325a3f-8802-4a63-afb8-62bdeca529e1',
      timestamp: '2026-01-02T18:00:16.318Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/resend-verification',
      statusCode: 404,
      responseTime: '5ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '7b325a3f-8802-4a63-afb8-62bdeca529e1',
      timestamp: '2026-01-02T18:00:16.323Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '4cc84eb7-9b1e-4ac4-a382-5629c149e995',
      timestamp: '2026-01-02T18:00:16.339Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to test@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '14ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '4cc84eb7-9b1e-4ac4-a382-5629c149e995',
      timestamp: '2026-01-02T18:00:16.353Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/resend-verification',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '4ecbe7d3-39fe-4c65-b716-3b7d456e403d',
      timestamp: '2026-01-02T18:00:16.365Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/resend-verification',
      statusCode: 400,
      responseTime: '2ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '4ecbe7d3-39fe-4c65-b716-3b7d456e403d',
      timestamp: '2026-01-02T18:00:16.367Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '58791cc0-a679-4a17-8b88-a6aa6d18b911',
      timestamp: '2026-01-02T18:00:16.388Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to test@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '13ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '58791cc0-a679-4a17-8b88-a6aa6d18b911',
      timestamp: '2026-01-02T18:00:16.401Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/verify-email',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'a1751c97-9886-4596-bde6-b43742cc714f',
      timestamp: '2026-01-02T18:00:16.409Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.error
    Failed to send welcome email: TypeError: this.emailService.sendWelcomeEmail is not a function
        at AuthService.verifyEmail (/home/patrick/projects/l2p/backend/src/services/AuthService.ts:536:31)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at /home/patrick/projects/l2p/backend/src/routes/auth.ts:640:18

      537 |       console.log(`Welcome email sent to ${user.email}`);
      538 |     } catch (error) {
    > 539 |       console.error('Failed to send welcome email:', error);
          |               ^
      540 |       // Don't fail verification if welcome email fails
      541 |     }
      542 |

      at AuthService.verifyEmail (src/services/AuthService.ts:539:15)
      at src/routes/auth.ts:640:18

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/verify-email',
      statusCode: 200,
      responseTime: '8ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'a1751c97-9886-4596-bde6-b43742cc714f',
      timestamp: '2026-01-02T18:00:16.417Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/forgot-password',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '07de8b1b-adbc-484d-ad83-198ac09e6592',
      timestamp: '2026-01-02T18:00:16.428Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Password reset email sent to test@example.com

      at AuthService.requestPasswordReset (src/services/AuthService.ts:617:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/forgot-password',
      statusCode: 200,
      responseTime: '9ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '07de8b1b-adbc-484d-ad83-198ac09e6592',
      timestamp: '2026-01-02T18:00:16.437Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '23344a61-0011-4c0c-a796-5fb893eb9520',
      timestamp: '2026-01-02T18:00:16.458Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to test@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '15ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '23344a61-0011-4c0c-a796-5fb893eb9520',
      timestamp: '2026-01-02T18:00:16.473Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/verify-email',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '7698cd5b-c0e4-4c14-b01f-4e3dbbbc03c8',
      timestamp: '2026-01-02T18:00:16.483Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.error
    Failed to send welcome email: TypeError: this.emailService.sendWelcomeEmail is not a function
        at AuthService.verifyEmail (/home/patrick/projects/l2p/backend/src/services/AuthService.ts:536:31)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at /home/patrick/projects/l2p/backend/src/routes/auth.ts:640:18

      537 |       console.log(`Welcome email sent to ${user.email}`);
      538 |     } catch (error) {
    > 539 |       console.error('Failed to send welcome email:', error);
          |               ^
      540 |       // Don't fail verification if welcome email fails
      541 |     }
      542 |

      at AuthService.verifyEmail (src/services/AuthService.ts:539:15)
      at src/routes/auth.ts:640:18

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/verify-email',
      statusCode: 200,
      responseTime: '9ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '7698cd5b-c0e4-4c14-b01f-4e3dbbbc03c8',
      timestamp: '2026-01-02T18:00:16.492Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/forgot-password',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '98aacad8-4cbe-44af-947c-8efd305f63c5',
      timestamp: '2026-01-02T18:00:16.501Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/forgot-password',
      statusCode: 200,
      responseTime: '6ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '98aacad8-4cbe-44af-947c-8efd305f63c5',
      timestamp: '2026-01-02T18:00:16.507Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'ab04ae9f-bf53-4831-bfac-2aa2dada9250',
      timestamp: '2026-01-02T18:00:16.525Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to test@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '12ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'ab04ae9f-bf53-4831-bfac-2aa2dada9250',
      timestamp: '2026-01-02T18:00:16.537Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/verify-email',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '1cf23305-08e1-4069-8555-18a6ba6fccb7',
      timestamp: '2026-01-02T18:00:16.547Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.error
    Failed to send welcome email: TypeError: this.emailService.sendWelcomeEmail is not a function
        at AuthService.verifyEmail (/home/patrick/projects/l2p/backend/src/services/AuthService.ts:536:31)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at /home/patrick/projects/l2p/backend/src/routes/auth.ts:640:18

      537 |       console.log(`Welcome email sent to ${user.email}`);
      538 |     } catch (error) {
    > 539 |       console.error('Failed to send welcome email:', error);
          |               ^
      540 |       // Don't fail verification if welcome email fails
      541 |     }
      542 |

      at AuthService.verifyEmail (src/services/AuthService.ts:539:15)
      at src/routes/auth.ts:640:18

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/verify-email',
      statusCode: 200,
      responseTime: '12ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '1cf23305-08e1-4069-8555-18a6ba6fccb7',
      timestamp: '2026-01-02T18:00:16.559Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/forgot-password',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '42945f9d-5244-4963-9adc-39c594c4e843',
      timestamp: '2026-01-02T18:00:16.569Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Password reset email sent to test@example.com

      at AuthService.requestPasswordReset (src/services/AuthService.ts:617:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/forgot-password',
      statusCode: 200,
      responseTime: '9ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '42945f9d-5244-4963-9adc-39c594c4e843',
      timestamp: '2026-01-02T18:00:16.578Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/reset-password',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '3612b243-0a77-4b9e-9e3c-f8cda91d3533',
      timestamp: '2026-01-02T18:00:16.589Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/reset-password',
      statusCode: 200,
      responseTime: '10ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '3612b243-0a77-4b9e-9e3c-f8cda91d3533',
      timestamp: '2026-01-02T18:00:16.599Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '371a9929-8d0e-427a-8383-278b372129c2',
      timestamp: '2026-01-02T18:00:16.608Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/login',
      statusCode: 200,
      responseTime: '10ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '371a9929-8d0e-427a-8383-278b372129c2',
      timestamp: '2026-01-02T18:00:16.618Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '2d15c3e9-69d4-4dd6-8c08-3c1fff8a1939',
      timestamp: '2026-01-02T18:00:16.634Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to test@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '15ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '2d15c3e9-69d4-4dd6-8c08-3c1fff8a1939',
      timestamp: '2026-01-02T18:00:16.649Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/verify-email',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'ecc02193-7146-4a52-b078-3e183fa53ccd',
      timestamp: '2026-01-02T18:00:16.659Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.error
    Failed to send welcome email: TypeError: this.emailService.sendWelcomeEmail is not a function
        at AuthService.verifyEmail (/home/patrick/projects/l2p/backend/src/services/AuthService.ts:536:31)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at /home/patrick/projects/l2p/backend/src/routes/auth.ts:640:18

      537 |       console.log(`Welcome email sent to ${user.email}`);
      538 |     } catch (error) {
    > 539 |       console.error('Failed to send welcome email:', error);
          |               ^
      540 |       // Don't fail verification if welcome email fails
      541 |     }
      542 |

      at AuthService.verifyEmail (src/services/AuthService.ts:539:15)
      at src/routes/auth.ts:640:18

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/verify-email',
      statusCode: 200,
      responseTime: '10ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'ecc02193-7146-4a52-b078-3e183fa53ccd',
      timestamp: '2026-01-02T18:00:16.669Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/forgot-password',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '48d22d23-0edd-4112-a9a2-74163f84cfba',
      timestamp: '2026-01-02T18:00:16.679Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Password reset email sent to test@example.com

      at AuthService.requestPasswordReset (src/services/AuthService.ts:617:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/forgot-password',
      statusCode: 200,
      responseTime: '21ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '48d22d23-0edd-4112-a9a2-74163f84cfba',
      timestamp: '2026-01-02T18:00:16.700Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/reset-password',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '84dff4bb-7040-477e-a028-fa6e24285f92',
      timestamp: '2026-01-02T18:00:16.710Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/reset-password',
      statusCode: 400,
      responseTime: '6ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '84dff4bb-7040-477e-a028-fa6e24285f92',
      timestamp: '2026-01-02T18:00:16.716Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'ee280fb2-d9d5-40cf-a63b-ed3bb98d3d80',
      timestamp: '2026-01-02T18:00:16.737Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to test@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '13ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'ee280fb2-d9d5-40cf-a63b-ed3bb98d3d80',
      timestamp: '2026-01-02T18:00:16.750Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/verify-email',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'f7031a82-b1e0-4445-a6a8-265a07932507',
      timestamp: '2026-01-02T18:00:16.759Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.error
    Failed to send welcome email: TypeError: this.emailService.sendWelcomeEmail is not a function
        at AuthService.verifyEmail (/home/patrick/projects/l2p/backend/src/services/AuthService.ts:536:31)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at /home/patrick/projects/l2p/backend/src/routes/auth.ts:640:18

      537 |       console.log(`Welcome email sent to ${user.email}`);
      538 |     } catch (error) {
    > 539 |       console.error('Failed to send welcome email:', error);
          |               ^
      540 |       // Don't fail verification if welcome email fails
      541 |     }
      542 |

      at AuthService.verifyEmail (src/services/AuthService.ts:539:15)
      at src/routes/auth.ts:640:18

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/verify-email',
      statusCode: 200,
      responseTime: '10ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'f7031a82-b1e0-4445-a6a8-265a07932507',
      timestamp: '2026-01-02T18:00:16.769Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/forgot-password',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '1a33b1ef-aaf1-42e6-bc16-91ccc6c76afc',
      timestamp: '2026-01-02T18:00:16.777Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Password reset email sent to test@example.com

      at AuthService.requestPasswordReset (src/services/AuthService.ts:617:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/forgot-password',
      statusCode: 200,
      responseTime: '11ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '1a33b1ef-aaf1-42e6-bc16-91ccc6c76afc',
      timestamp: '2026-01-02T18:00:16.788Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/reset-password',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '30734e52-1e48-42d1-974c-e0da526e54b8',
      timestamp: '2026-01-02T18:00:16.802Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/reset-password',
      statusCode: 400,
      responseTime: '2ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '30734e52-1e48-42d1-974c-e0da526e54b8',
      timestamp: '2026-01-02T18:00:16.804Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'e7819181-0710-4d1f-91ef-5e6081f44d90',
      timestamp: '2026-01-02T18:00:16.828Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to test@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '14ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'e7819181-0710-4d1f-91ef-5e6081f44d90',
      timestamp: '2026-01-02T18:00:16.842Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/verify-email',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '124d1db9-dc65-4a2e-bf48-6b6a0843b235',
      timestamp: '2026-01-02T18:00:16.851Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.error
    Failed to send welcome email: TypeError: this.emailService.sendWelcomeEmail is not a function
        at AuthService.verifyEmail (/home/patrick/projects/l2p/backend/src/services/AuthService.ts:536:31)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at /home/patrick/projects/l2p/backend/src/routes/auth.ts:640:18

      537 |       console.log(`Welcome email sent to ${user.email}`);
      538 |     } catch (error) {
    > 539 |       console.error('Failed to send welcome email:', error);
          |               ^
      540 |       // Don't fail verification if welcome email fails
      541 |     }
      542 |

      at AuthService.verifyEmail (src/services/AuthService.ts:539:15)
      at src/routes/auth.ts:640:18

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/verify-email',
      statusCode: 200,
      responseTime: '9ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '124d1db9-dc65-4a2e-bf48-6b6a0843b235',
      timestamp: '2026-01-02T18:00:16.860Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'e8b7081e-9a94-4425-9485-09e3ed90372c',
      timestamp: '2026-01-02T18:00:16.869Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/login',
      statusCode: 200,
      responseTime: '12ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'e8b7081e-9a94-4425-9485-09e3ed90372c',
      timestamp: '2026-01-02T18:00:16.882Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'GET',
      url: '/api/auth/me',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '5cf856fa-70fe-4808-abe6-85b4e1f0ae9a',
      timestamp: '2026-01-02T18:00:16.889Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âœ… Response: {
      method: 'GET',
      url: '/me',
      statusCode: 200,
      responseTime: '9ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '5cf856fa-70fe-4808-abe6-85b4e1f0ae9a',
      timestamp: '2026-01-02T18:00:16.898Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '003383ba-3020-423e-af59-c354668abfe0',
      timestamp: '2026-01-02T18:00:16.916Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to test@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '12ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '003383ba-3020-423e-af59-c354668abfe0',
      timestamp: '2026-01-02T18:00:16.928Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/verify-email',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '7897cbc4-b1ad-481a-8a64-1255ef22c5ee',
      timestamp: '2026-01-02T18:00:16.937Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.error
    Failed to send welcome email: TypeError: this.emailService.sendWelcomeEmail is not a function
        at AuthService.verifyEmail (/home/patrick/projects/l2p/backend/src/services/AuthService.ts:536:31)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at /home/patrick/projects/l2p/backend/src/routes/auth.ts:640:18

      537 |       console.log(`Welcome email sent to ${user.email}`);
      538 |     } catch (error) {
    > 539 |       console.error('Failed to send welcome email:', error);
          |               ^
      540 |       // Don't fail verification if welcome email fails
      541 |     }
      542 |

      at AuthService.verifyEmail (src/services/AuthService.ts:539:15)
      at src/routes/auth.ts:640:18

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/verify-email',
      statusCode: 200,
      responseTime: '8ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '7897cbc4-b1ad-481a-8a64-1255ef22c5ee',
      timestamp: '2026-01-02T18:00:16.945Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'b9a2a8e0-20fb-4fae-b9a5-aaae04abdcca',
      timestamp: '2026-01-02T18:00:16.952Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/login',
      statusCode: 200,
      responseTime: '12ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'b9a2a8e0-20fb-4fae-b9a5-aaae04abdcca',
      timestamp: '2026-01-02T18:00:16.964Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'GET',
      url: '/api/auth/me',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '9419cb49-7680-43b9-9437-fedaeb4e1839',
      timestamp: '2026-01-02T18:00:16.973Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'GET',
      url: '/me',
      statusCode: 401,
      responseTime: '2ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '9419cb49-7680-43b9-9437-fedaeb4e1839',
      timestamp: '2026-01-02T18:00:16.975Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '18452f09-a654-410a-ade9-8e54a84aeb98',
      timestamp: '2026-01-02T18:00:16.997Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to test@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '14ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '18452f09-a654-410a-ade9-8e54a84aeb98',
      timestamp: '2026-01-02T18:00:17.011Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/verify-email',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'a082f219-1630-459d-8f21-ef7dee7300e6',
      timestamp: '2026-01-02T18:00:17.022Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.error
    Failed to send welcome email: TypeError: this.emailService.sendWelcomeEmail is not a function
        at AuthService.verifyEmail (/home/patrick/projects/l2p/backend/src/services/AuthService.ts:536:31)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at /home/patrick/projects/l2p/backend/src/routes/auth.ts:640:18

      537 |       console.log(`Welcome email sent to ${user.email}`);
      538 |     } catch (error) {
    > 539 |       console.error('Failed to send welcome email:', error);
          |               ^
      540 |       // Don't fail verification if welcome email fails
      541 |     }
      542 |

      at AuthService.verifyEmail (src/services/AuthService.ts:539:15)
      at src/routes/auth.ts:640:18

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/verify-email',
      statusCode: 200,
      responseTime: '9ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'a082f219-1630-459d-8f21-ef7dee7300e6',
      timestamp: '2026-01-02T18:00:17.031Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'b56e9b34-407e-4ffa-aa7f-df4fb57844a2',
      timestamp: '2026-01-02T18:00:17.040Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/login',
      statusCode: 200,
      responseTime: '11ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'b56e9b34-407e-4ffa-aa7f-df4fb57844a2',
      timestamp: '2026-01-02T18:00:17.051Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'GET',
      url: '/api/auth/me',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '8e85b171-1063-4247-8f5a-81cb7cd8061c',
      timestamp: '2026-01-02T18:00:17.058Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'GET',
      url: '/me',
      statusCode: 401,
      responseTime: '3ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '8e85b171-1063-4247-8f5a-81cb7cd8061c',
      timestamp: '2026-01-02T18:00:17.061Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '83e9d4c1-2dfa-4565-996f-2bf8f731c1c8',
      timestamp: '2026-01-02T18:00:17.081Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to test@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '13ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '83e9d4c1-2dfa-4565-996f-2bf8f731c1c8',
      timestamp: '2026-01-02T18:00:17.094Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/verify-email',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'b267217b-0a7f-4d4f-bad0-fe5e3f6c11e4',
      timestamp: '2026-01-02T18:00:17.103Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.error
    Failed to send welcome email: TypeError: this.emailService.sendWelcomeEmail is not a function
        at AuthService.verifyEmail (/home/patrick/projects/l2p/backend/src/services/AuthService.ts:536:31)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at /home/patrick/projects/l2p/backend/src/routes/auth.ts:640:18

      537 |       console.log(`Welcome email sent to ${user.email}`);
      538 |     } catch (error) {
    > 539 |       console.error('Failed to send welcome email:', error);
          |               ^
      540 |       // Don't fail verification if welcome email fails
      541 |     }
      542 |

      at AuthService.verifyEmail (src/services/AuthService.ts:539:15)
      at src/routes/auth.ts:640:18

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/verify-email',
      statusCode: 200,
      responseTime: '8ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'b267217b-0a7f-4d4f-bad0-fe5e3f6c11e4',
      timestamp: '2026-01-02T18:00:17.111Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '9840b56e-a5c6-4f57-88f5-d4eb5d4eb642',
      timestamp: '2026-01-02T18:00:17.119Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/login',
      statusCode: 200,
      responseTime: '12ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '9840b56e-a5c6-4f57-88f5-d4eb5d4eb642',
      timestamp: '2026-01-02T18:00:17.132Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/change-password',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '0d014b94-7c30-429c-ad42-768e04aa80bf',
      timestamp: '2026-01-02T18:00:17.141Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/change-password',
      statusCode: 200,
      responseTime: '11ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '0d014b94-7c30-429c-ad42-768e04aa80bf',
      timestamp: '2026-01-02T18:00:17.152Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'c39367af-6a44-417a-9c7e-98868b5bd583',
      timestamp: '2026-01-02T18:00:17.161Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/login',
      statusCode: 200,
      responseTime: '11ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'c39367af-6a44-417a-9c7e-98868b5bd583',
      timestamp: '2026-01-02T18:00:17.172Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '7f782d87-8695-435d-9e3b-7cbb1e461cdd',
      timestamp: '2026-01-02T18:00:17.190Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to test@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '12ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '7f782d87-8695-435d-9e3b-7cbb1e461cdd',
      timestamp: '2026-01-02T18:00:17.202Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/verify-email',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '2fc09f2f-faee-47bb-9c3b-e85b285abec8',
      timestamp: '2026-01-02T18:00:17.212Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.error
    Failed to send welcome email: TypeError: this.emailService.sendWelcomeEmail is not a function
        at AuthService.verifyEmail (/home/patrick/projects/l2p/backend/src/services/AuthService.ts:536:31)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at /home/patrick/projects/l2p/backend/src/routes/auth.ts:640:18

      537 |       console.log(`Welcome email sent to ${user.email}`);
      538 |     } catch (error) {
    > 539 |       console.error('Failed to send welcome email:', error);
          |               ^
      540 |       // Don't fail verification if welcome email fails
      541 |     }
      542 |

      at AuthService.verifyEmail (src/services/AuthService.ts:539:15)
      at src/routes/auth.ts:640:18

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/verify-email',
      statusCode: 200,
      responseTime: '11ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '2fc09f2f-faee-47bb-9c3b-e85b285abec8',
      timestamp: '2026-01-02T18:00:17.223Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '6ffad0a1-6b3d-4e7a-afaf-a25e96911d8b',
      timestamp: '2026-01-02T18:00:17.232Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/login',
      statusCode: 200,
      responseTime: '17ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '6ffad0a1-6b3d-4e7a-afaf-a25e96911d8b',
      timestamp: '2026-01-02T18:00:17.249Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/change-password',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '22c1d729-f98f-4d35-97f0-2a2ec9cbcb65',
      timestamp: '2026-01-02T18:00:17.262Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/change-password',
      statusCode: 400,
      responseTime: '8ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '22c1d729-f98f-4d35-97f0-2a2ec9cbcb65',
      timestamp: '2026-01-02T18:00:17.270Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '1b5ea8d4-941b-431b-b4e4-b3fb7508d525',
      timestamp: '2026-01-02T18:00:17.287Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to test@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '12ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '1b5ea8d4-941b-431b-b4e4-b3fb7508d525',
      timestamp: '2026-01-02T18:00:17.299Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/verify-email',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'fc4c7d73-19d7-4b62-bc10-7864b5b339cd',
      timestamp: '2026-01-02T18:00:17.310Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.error
    Failed to send welcome email: TypeError: this.emailService.sendWelcomeEmail is not a function
        at AuthService.verifyEmail (/home/patrick/projects/l2p/backend/src/services/AuthService.ts:536:31)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at /home/patrick/projects/l2p/backend/src/routes/auth.ts:640:18

      537 |       console.log(`Welcome email sent to ${user.email}`);
      538 |     } catch (error) {
    > 539 |       console.error('Failed to send welcome email:', error);
          |               ^
      540 |       // Don't fail verification if welcome email fails
      541 |     }
      542 |

      at AuthService.verifyEmail (src/services/AuthService.ts:539:15)
      at src/routes/auth.ts:640:18

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/verify-email',
      statusCode: 200,
      responseTime: '10ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'fc4c7d73-19d7-4b62-bc10-7864b5b339cd',
      timestamp: '2026-01-02T18:00:17.320Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '546d494a-bf64-49ee-95c3-2f62b0320cbf',
      timestamp: '2026-01-02T18:00:17.329Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/login',
      statusCode: 200,
      responseTime: '9ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '546d494a-bf64-49ee-95c3-2f62b0320cbf',
      timestamp: '2026-01-02T18:00:17.338Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/change-password',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '8a93b866-9059-47c4-a09f-a642f48344ba',
      timestamp: '2026-01-02T18:00:17.348Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/change-password',
      statusCode: 400,
      responseTime: '2ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '8a93b866-9059-47c4-a09f-a642f48344ba',
      timestamp: '2026-01-02T18:00:17.350Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/logout',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '452c9c00-9aff-48d0-b2f7-adf605365220',
      timestamp: '2026-01-02T18:00:17.372Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/logout',
      statusCode: 200,
      responseTime: '3ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '452c9c00-9aff-48d0-b2f7-adf605365220',
      timestamp: '2026-01-02T18:00:17.375Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'be85e77b-1465-46ba-a228-74a39e5e849f',
      timestamp: '2026-01-02T18:00:17.393Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to test@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '17ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'be85e77b-1465-46ba-a228-74a39e5e849f',
      timestamp: '2026-01-02T18:00:17.410Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/verify-email',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '0fe67247-8e1f-40ed-b874-24e26b6ec707',
      timestamp: '2026-01-02T18:00:17.419Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.error
    Failed to send welcome email: TypeError: this.emailService.sendWelcomeEmail is not a function
        at AuthService.verifyEmail (/home/patrick/projects/l2p/backend/src/services/AuthService.ts:536:31)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at /home/patrick/projects/l2p/backend/src/routes/auth.ts:640:18

      537 |       console.log(`Welcome email sent to ${user.email}`);
      538 |     } catch (error) {
    > 539 |       console.error('Failed to send welcome email:', error);
          |               ^
      540 |       // Don't fail verification if welcome email fails
      541 |     }
      542 |

      at AuthService.verifyEmail (src/services/AuthService.ts:539:15)
      at src/routes/auth.ts:640:18

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/verify-email',
      statusCode: 200,
      responseTime: '11ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '0fe67247-8e1f-40ed-b874-24e26b6ec707',
      timestamp: '2026-01-02T18:00:17.430Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'd8e94ef6-f956-4010-8296-9e921d71d87c',
      timestamp: '2026-01-02T18:00:17.438Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/login',
      statusCode: 200,
      responseTime: '15ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'd8e94ef6-f956-4010-8296-9e921d71d87c',
      timestamp: '2026-01-02T18:00:17.453Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/refresh',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '55ce33d9-9367-43ec-8110-41276b40f9de',
      timestamp: '2026-01-02T18:00:17.462Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/refresh',
      statusCode: 200,
      responseTime: '8ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '55ce33d9-9367-43ec-8110-41276b40f9de',
      timestamp: '2026-01-02T18:00:17.470Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '80ec1c80-a8df-420a-b8cc-8644a1d5bc28',
      timestamp: '2026-01-02T18:00:17.490Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to test@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '12ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '80ec1c80-a8df-420a-b8cc-8644a1d5bc28',
      timestamp: '2026-01-02T18:00:17.502Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/verify-email',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '6637d3f0-928c-447a-bd53-940369ee9eef',
      timestamp: '2026-01-02T18:00:17.511Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.error
    Failed to send welcome email: TypeError: this.emailService.sendWelcomeEmail is not a function
        at AuthService.verifyEmail (/home/patrick/projects/l2p/backend/src/services/AuthService.ts:536:31)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at /home/patrick/projects/l2p/backend/src/routes/auth.ts:640:18

      537 |       console.log(`Welcome email sent to ${user.email}`);
      538 |     } catch (error) {
    > 539 |       console.error('Failed to send welcome email:', error);
          |               ^
      540 |       // Don't fail verification if welcome email fails
      541 |     }
      542 |

      at AuthService.verifyEmail (src/services/AuthService.ts:539:15)
      at src/routes/auth.ts:640:18

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/verify-email',
      statusCode: 200,
      responseTime: '8ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '6637d3f0-928c-447a-bd53-940369ee9eef',
      timestamp: '2026-01-02T18:00:17.519Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '02993c43-5062-4048-8de5-538731a88642',
      timestamp: '2026-01-02T18:00:17.527Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/login',
      statusCode: 200,
      responseTime: '10ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '02993c43-5062-4048-8de5-538731a88642',
      timestamp: '2026-01-02T18:00:17.537Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/refresh',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '70e5b267-664f-43c2-9505-8e07664d3ac7',
      timestamp: '2026-01-02T18:00:17.545Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/refresh',
      statusCode: 401,
      responseTime: '3ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '70e5b267-664f-43c2-9505-8e07664d3ac7',
      timestamp: '2026-01-02T18:00:17.548Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '5c3f74cc-e575-487f-8556-2a13dc42f10c',
      timestamp: '2026-01-02T18:00:17.731Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '58885758-97cd-41a4-b9fa-046f7e0b3670',
      timestamp: '2026-01-02T18:00:17.739Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '4266d51b-21af-454c-9328-6cb766872b7c',
      timestamp: '2026-01-02T18:00:17.747Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '93961a38-6d5a-494c-9800-d1dbb598d1b8',
      timestamp: '2026-01-02T18:00:17.753Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'f5d5e5d6-7d9f-4b00-880c-6c60be32ebde',
      timestamp: '2026-01-02T18:00:17.762Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '2ad36d41-9cdf-4165-95c1-7f3d67b59376',
      timestamp: '2026-01-02T18:00:17.770Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '63d95e82-e9a5-4e9f-9cc5-94dba69e4f0e',
      timestamp: '2026-01-02T18:00:17.778Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '8d987444-e062-4be2-af5f-741cd6d50242',
      timestamp: '2026-01-02T18:00:17.786Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '9059ffce-5655-484e-97c6-c4cc4f96e846',
      timestamp: '2026-01-02T18:00:17.794Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'e7eb9f42-6baf-4653-b3a4-2b2f10a63d62',
      timestamp: '2026-01-02T18:00:17.802Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '238c0a46-f4e2-471c-b3fd-f87ce55b795f',
      timestamp: '2026-01-02T18:00:17.811Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '4d28734c-1d0c-4de8-b96c-57a9a0ece666',
      timestamp: '2026-01-02T18:00:17.818Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'e918dfee-b283-4354-af97-3bab96e04301',
      timestamp: '2026-01-02T18:00:17.822Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '99b829ed-9edb-496b-a429-fbcc0ecd53f2',
      timestamp: '2026-01-02T18:00:17.828Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '5fdcf4ae-790f-41d8-8f6f-bb9b2d4bace5',
      timestamp: '2026-01-02T18:00:17.832Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Database connection established

      at BoundPool.<anonymous> (src/services/DatabaseService.ts:153:15)

  console.log
    Database connection established

      at BoundPool.<anonymous> (src/services/DatabaseService.ts:153:15)

  console.log
    Database connection established

      at BoundPool.<anonymous> (src/services/DatabaseService.ts:153:15)

  console.log
    Database connection established

      at BoundPool.<anonymous> (src/services/DatabaseService.ts:153:15)

  console.log
    Database connection established

      at BoundPool.<anonymous> (src/services/DatabaseService.ts:153:15)

  console.log
    Database connection established

      at BoundPool.<anonymous> (src/services/DatabaseService.ts:153:15)

  console.log
    Database connection established

      at BoundPool.<anonymous> (src/services/DatabaseService.ts:153:15)

  console.log
    Verification email sent to test0@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '174ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '5c3f74cc-e575-487f-8556-2a13dc42f10c',
      timestamp: '2026-01-02T18:00:17.905Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    Database connection established

      at BoundPool.<anonymous> (src/services/DatabaseService.ts:153:15)

  console.log
    Database connection established

      at BoundPool.<anonymous> (src/services/DatabaseService.ts:153:15)

  console.log
    Verification email sent to test12@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '98ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '4d28734c-1d0c-4de8-b96c-57a9a0ece666',
      timestamp: '2026-01-02T18:00:17.916Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    Verification email sent to test9@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '101ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'e918dfee-b283-4354-af97-3bab96e04301',
      timestamp: '2026-01-02T18:00:17.923Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    Verification email sent to test13@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '95ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '5fdcf4ae-790f-41d8-8f6f-bb9b2d4bace5',
      timestamp: '2026-01-02T18:00:17.927Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    Verification email sent to test14@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '102ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '99b829ed-9edb-496b-a429-fbcc0ecd53f2',
      timestamp: '2026-01-02T18:00:17.930Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    Verification email sent to test11@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '122ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '238c0a46-f4e2-471c-b3fd-f87ce55b795f',
      timestamp: '2026-01-02T18:00:17.933Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    Verification email sent to test10@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '138ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'e7eb9f42-6baf-4653-b3a4-2b2f10a63d62',
      timestamp: '2026-01-02T18:00:17.940Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    Verification email sent to test8@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '151ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '9059ffce-5655-484e-97c6-c4cc4f96e846',
      timestamp: '2026-01-02T18:00:17.945Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    Verification email sent to test2@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '201ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '4266d51b-21af-454c-9328-6cb766872b7c',
      timestamp: '2026-01-02T18:00:17.948Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    Verification email sent to test1@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '212ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '58885758-97cd-41a4-b9fa-046f7e0b3670',
      timestamp: '2026-01-02T18:00:17.951Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    Verification email sent to test5@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '198ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '2ad36d41-9cdf-4165-95c1-7f3d67b59376',
      timestamp: '2026-01-02T18:00:17.968Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    Verification email sent to test3@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '218ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '93961a38-6d5a-494c-9800-d1dbb598d1b8',
      timestamp: '2026-01-02T18:00:17.971Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    Verification email sent to test7@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '188ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '8d987444-e062-4be2-af5f-741cd6d50242',
      timestamp: '2026-01-02T18:00:17.974Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    Verification email sent to test4@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '234ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'f5d5e5d6-7d9f-4b00-880c-6c60be32ebde',
      timestamp: '2026-01-02T18:00:17.996Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    Verification email sent to test6@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '223ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '63d95e82-e9a5-4e9f-9cc5-94dba69e4f0e',
      timestamp: '2026-01-02T18:00:18.001Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'c0fcf719-418b-4b66-b853-26335e0cb2db',
      timestamp: '2026-01-02T18:00:18.039Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    Verification email sent to ratelimit@example.com

      at AuthService.register (src/services/AuthService.ts:285:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/register',
      statusCode: 201,
      responseTime: '12ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'c0fcf719-418b-4b66-b853-26335e0cb2db',
      timestamp: '2026-01-02T18:00:18.051Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '8de61975-ab20-4905-ab38-f09460f39dd7',
      timestamp: '2026-01-02T18:00:18.193Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'cc3c71f9-a85c-4350-9619-014eb2cf13eb',
      timestamp: '2026-01-02T18:00:18.200Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '40de917c-ab2f-43b2-846b-c47e2696826e',
      timestamp: '2026-01-02T18:00:18.207Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '438f5362-f565-4bb5-8b6e-6a9f1fdab1c8',
      timestamp: '2026-01-02T18:00:18.215Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'e2609045-8ddf-412e-a8d5-38569844101d',
      timestamp: '2026-01-02T18:00:18.220Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '126c206f-13f5-4708-98a3-e07b894aab4c',
      timestamp: '2026-01-02T18:00:18.228Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'd49f5e27-f9cb-43c7-bcb9-d87fc041182b',
      timestamp: '2026-01-02T18:00:18.236Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'f74a0af5-6101-471e-bcb0-ae4daa8f8591',
      timestamp: '2026-01-02T18:00:18.248Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '74b279fe-a8fe-4e53-a539-a292c3821db9',
      timestamp: '2026-01-02T18:00:18.267Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '04334ef0-2f3d-4962-a487-1df77a92a897',
      timestamp: '2026-01-02T18:00:18.275Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '336a51ba-6ead-4377-abab-d7af1d9a20ec',
      timestamp: '2026-01-02T18:00:18.282Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'a58e0632-5cc7-4926-aa3d-d0b7bde699c7',
      timestamp: '2026-01-02T18:00:18.287Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/login',
      statusCode: 200,
      responseTime: '108ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '8de61975-ab20-4905-ab38-f09460f39dd7',
      timestamp: '2026-01-02T18:00:18.301Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/login',
      statusCode: 401,
      responseTime: '21ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '336a51ba-6ead-4377-abab-d7af1d9a20ec',
      timestamp: '2026-01-02T18:00:18.303Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/login',
      statusCode: 401,
      responseTime: '38ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '74b279fe-a8fe-4e53-a539-a292c3821db9',
      timestamp: '2026-01-02T18:00:18.305Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/login',
      statusCode: 401,
      responseTime: '70ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'd49f5e27-f9cb-43c7-bcb9-d87fc041182b',
      timestamp: '2026-01-02T18:00:18.306Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/login',
      statusCode: 401,
      responseTime: '33ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '04334ef0-2f3d-4962-a487-1df77a92a897',
      timestamp: '2026-01-02T18:00:18.308Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/login',
      statusCode: 401,
      responseTime: '61ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'f74a0af5-6101-471e-bcb0-ae4daa8f8591',
      timestamp: '2026-01-02T18:00:18.309Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/login',
      statusCode: 401,
      responseTime: '31ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'a58e0632-5cc7-4926-aa3d-d0b7bde699c7',
      timestamp: '2026-01-02T18:00:18.318Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/login',
      statusCode: 200,
      responseTime: '121ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'cc3c71f9-a85c-4350-9619-014eb2cf13eb',
      timestamp: '2026-01-02T18:00:18.321Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    âœ… Response: {
      method: 'POST',
      url: '/login',
      statusCode: 200,
      responseTime: '119ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '40de917c-ab2f-43b2-846b-c47e2696826e',
      timestamp: '2026-01-02T18:00:18.326Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/login',
      statusCode: 401,
      responseTime: '116ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '438f5362-f565-4bb5-8b6e-6a9f1fdab1c8',
      timestamp: '2026-01-02T18:00:18.331Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/login',
      statusCode: 401,
      responseTime: '106ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '126c206f-13f5-4708-98a3-e07b894aab4c',
      timestamp: '2026-01-02T18:00:18.334Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/login',
      statusCode: 401,
      responseTime: '119ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'e2609045-8ddf-412e-a8d5-38569844101d',
      timestamp: '2026-01-02T18:00:18.339Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/login',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '3feeeae0-c1b2-4ba4-88d5-33ea139feb27',
      timestamp: '2026-01-02T18:00:18.376Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/login',
      statusCode: 401,
      responseTime: '6ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '3feeeae0-c1b2-4ba4-88d5-33ea139feb27',
      timestamp: '2026-01-02T18:00:18.382Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: '29d0143f-6510-4268-8b11-6fee60b3ce00',
      timestamp: '2026-01-02T18:00:18.398Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/register',
      statusCode: 400,
      responseTime: '3ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: '29d0143f-6510-4268-8b11-6fee60b3ce00',
      timestamp: '2026-01-02T18:00:18.401Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    ðŸ“¥ Request: {
      method: 'POST',
      url: '/api/auth/register',
      ip: '::ffff:127.0.0.1',
      userAgent: undefined,
      userId: undefined,
      correlationId: 'adf0968b-16c1-4302-8754-dd5214a615e8',
      timestamp: '2026-01-02T18:00:18.419Z'
    }

      at log (src/middleware/logging.ts:67:15)

  console.log
    âŒ Response: {
      method: 'POST',
      url: '/register',
      statusCode: 400,
      responseTime: '2ms',
      ip: '::ffff:127.0.0.1',
      userId: undefined,
      correlationId: 'adf0968b-16c1-4302-8754-dd5214a615e8',
      timestamp: '2026-01-02T18:00:18.421Z'
    }

      at ServerResponse.res.end (src/middleware/logging.ts:100:17)

  console.log
    Database connection pool closed

      at DatabaseService.close (src/services/DatabaseService.ts:329:15)

FAIL src/routes/__tests__/integration/AuthRoutesIntegration.test.ts (7.167 s)
  Auth Routes Integration Tests
    POST /api/auth/register
      âœ• should register a new user successfully (103 ms)
      âœ“ should return 400 for invalid user data (26 ms)
      âœ• should return 409 for duplicate username (31 ms)
      âœ“ should return 409 for duplicate email (72 ms)
      âœ“ should validate character selection (33 ms)
    POST /api/auth/login
      âœ• should login successfully with valid credentials (41 ms)
      âœ“ should return 401 for invalid username (41 ms)
      âœ“ should return 401 for invalid password (41 ms)
      âœ• should allow login with unverified email (38 ms)
    POST /api/auth/verify-email
      âœ“ should verify email successfully with valid token (64 ms)
      âœ“ should return 400 for invalid token (51 ms)
      âœ“ should return 400 for missing token (54 ms)
    POST /api/auth/resend-verification
      âœ“ should resend verification email successfully (63 ms)
      âœ“ should return 404 for non-existent email (55 ms)
      âœ“ should return 400 for invalid email format (46 ms)
    POST /api/auth/forgot-password
      âœ“ should send password reset email successfully (70 ms)
      âœ“ should return 404 for non-existent email (67 ms)
    POST /api/auth/reset-password
      âœ“ should reset password successfully with valid token (111 ms)
      âœ“ should return 400 for invalid token (101 ms)
      âœ“ should return 400 for weak password (88 ms)
    GET /api/auth/me
      âœ“ should return user profile with valid token (92 ms)
      âœ“ should return 401 for missing token (79 ms)
      âœ“ should return 401 for invalid token (86 ms)
    POST /api/auth/change-password
      âœ“ should change password successfully (107 ms)
      âœ“ should return 400 for incorrect current password (98 ms)
      âœ“ should return 400 for weak new password (86 ms)
    POST /api/auth/logout
      âœ“ should logout successfully (21 ms)
    POST /api/auth/refresh
      âœ“ should refresh token successfully (93 ms)
      âœ“ should return 401 for invalid refresh token (76 ms)
    Rate Limiting
      âœ“ should limit registration attempts (460 ms)
      âœ“ should limit login attempts (341 ms)
    Security Measures
      âœ“ should not expose sensitive information in error responses (32 ms)
      âœ“ should validate input data to prevent injection attacks (23 ms)
      âœ“ should sanitize input data (21 ms)

  â— Auth Routes Integration Tests â€º POST /api/auth/register â€º should register a new user successfully

    expected 201 "Created", got 400 "Bad Request"

      70 |         .post('/api/auth/register')
      71 |         .send(userData)
    > 72 |         .expect(201);
         |          ^
      73 |
      74 |       expect(response.body).toHaveProperty('user');
      75 |       expect(response.body).toHaveProperty('tokens');

      at Object.<anonymous> (src/routes/__tests__/integration/AuthRoutesIntegration.test.ts:72:10)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:309:14)
      at ../node_modules/supertest/lib/test.js:365:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:342:13)
      at Test.assert (../node_modules/supertest/lib/test.js:195:23)
      at localAssert (../node_modules/supertest/lib/test.js:138:14)
      at Server.<anonymous> (../node_modules/supertest/lib/test.js:152:11)

  â— Auth Routes Integration Tests â€º POST /api/auth/register â€º should return 409 for duplicate username

    expected 201 "Created", got 400 "Bad Request"

      116 |         .post('/api/auth/register')
      117 |         .send(userData)
    > 118 |         .expect(201);
          |          ^
      119 |
      120 |       // Try to register with same username
      121 |       const response = await request(app)

      at Object.<anonymous> (src/routes/__tests__/integration/AuthRoutesIntegration.test.ts:118:10)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:309:14)
      at ../node_modules/supertest/lib/test.js:365:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:342:13)
      at Test.assert (../node_modules/supertest/lib/test.js:195:23)
      at localAssert (../node_modules/supertest/lib/test.js:138:14)
      at Server.<anonymous> (../node_modules/supertest/lib/test.js:152:11)

  â— Auth Routes Integration Tests â€º POST /api/auth/login â€º should login successfully with valid credentials

    expected 200 "OK", got 401 "Unauthorized"

      209 |         .post('/api/auth/login')
      210 |         .send(loginData)
    > 211 |         .expect(200);
          |          ^
      212 |
      213 |       expect(response.body).toHaveProperty('tokens');
      214 |       expect(response.body).toHaveProperty('user');

      at Object.<anonymous> (src/routes/__tests__/integration/AuthRoutesIntegration.test.ts:211:10)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:309:14)
      at ../node_modules/supertest/lib/test.js:365:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:342:13)
      at Test.assert (../node_modules/supertest/lib/test.js:195:23)
      at localAssert (../node_modules/supertest/lib/test.js:138:14)
      at Server.<anonymous> (../node_modules/supertest/lib/test.js:152:11)

  â— Auth Routes Integration Tests â€º POST /api/auth/login â€º should allow login with unverified email

    expected 200 "OK", got 401 "Unauthorized"

      257 |         .post('/api/auth/login')
      258 |         .send(loginData)
    > 259 |         .expect(200);
          |          ^
      260 |
      261 |       expect(response.body).toHaveProperty('tokens');
      262 |       expect(response.body).toHaveProperty('user');

      at Object.<anonymous> (src/routes/__tests__/integration/AuthRoutesIntegration.test.ts:259:10)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:309:14)
      at ../node_modules/supertest/lib/test.js:365:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:342:13)
      at Test.assert (../node_modules/supertest/lib/test.js:195:23)
      at localAssert (../node_modules/supertest/lib/test.js:138:14)
      at Server.<anonymous> (../node_modules/supertest/lib/test.js:152:11)

Test Suites: 1 failed, 1 total
Tests:       4 failed, 30 passed, 34 total
Snapshots:   0 total
Time:        7.62 s
Ran all test suites matching /src\/routes\/__tests__\/integration\/AuthRoutesIntegration.test.ts/i.

ðŸ§ª Running global test teardown...
âœ… Global teardown completed successfully

