#!/bin/bash
# Pre-commit hook: reject .env files (except .env.example)

ENV_FILES=$(git diff --cached --name-only --diff-filter=ACM | grep -E '\.env' | grep -v '\.example$' || true)

if [ -n "$ENV_FILES" ]; then
  echo "ERROR: Attempting to commit .env files:"
  echo "$ENV_FILES"
  echo ""
  echo "Remove them with: git reset HEAD <file>"
  exit 1
fi
